<app-header></app-header>

<div class="messages-container">

  <!-- FORM -->
  <div class="message-form">
    <h2 class="form-title">
      <mat-icon>chat</mat-icon>
      Richiedi Intervento
    </h2>

    <form (ngSubmit)="onSubmit()" #messageForm="ngForm">
      <div class="form-group">
        <label for="tipologia">Tipologia <span class="required">*</span></label>
        <select
          id="tipologia"
          name="tipologia"
          required
          [(ngModel)]="tipologia"
        >
          <option value="">Seleziona una tipologia</option>
          <option value="Prenotazione">Prenotazione</option>
          <option value="Informazioni">Informazioni</option>
          <option value="Reclamo">Reclamo</option>
          <option value="Supporto">Supporto</option>
          <option value="Altro">Altro</option>
        </select>
      </div>

      <div class="form-group">
        <label for="messaggio">Messaggio <span class="required">*</span></label>
        <textarea
          id="messaggio"
          name="messaggio"
          required
          maxlength="1000"
          [(ngModel)]="contenutoMessaggio"
          placeholder="Scrivi qui il tuo messaggio..."
        ></textarea>
      </div>

      <div class="form-actions">
        <button type="submit" class="btn btn-submit">
          <mat-icon>send</mat-icon>
          Invia Messaggio
        </button>
      </div>
    </form>
  </div>
</div>

<div *ngIf="popupMessage" class="popup-overlay">
  <div class="popup-box">
    <p>{{ popupMessage }}</p>
    <button (click)="chiudiPopup()" class="btn btn-primary">OK</button>
  </div>
</div>

<div *ngIf="loading" class="loading-overlay">
  <div class="spinner"></div>
  <p>Caricamento...</p>
</div>

<app-footer></app-footer>
